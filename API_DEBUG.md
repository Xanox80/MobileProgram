# –î—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∞ –ø—Ä–æ–±–ª–µ–º –∑ –≤—ñ–¥–ø—Ä–∞–≤–∫–æ—é –¥–∞–Ω–∏—Ö –Ω–∞ API

## –©–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. ‚úÖ –î–æ–¥–∞–Ω–æ –¥–µ—Ç–∞–ª—å–Ω–µ –ª–æ–≥—É–≤–∞–Ω–Ω—è –Ω–∞ –≤—Å—ñ—Ö –µ—Ç–∞–ø–∞—Ö –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
2. ‚úÖ –í–∏–ø—Ä–∞–≤–ª–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ —Ç–∞ fallback –¥–ª—è AbortSignal
3. ‚úÖ –î–æ–¥–∞–Ω–æ –ø–µ—Ä–µ–≤—ñ—Ä–∫—É –Ω–∞ –ø–æ—Ä–æ–∂–Ω—é –∞–¥—Ä–µ—Å—É
4. ‚úÖ –ü–æ–∫—Ä–∞—â–µ–Ω–æ –æ–±—Ä–æ–±–∫—É –ø–æ–º–∏–ª–æ–∫ –º–µ—Ä–µ–∂—ñ
5. ‚úÖ –î–æ–¥–∞–Ω–æ —Ç–µ—Å—Ç–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó –¥–ª—è –¥—ñ–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

## –Ø–∫ –ø–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏:

### 1. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –ª–æ–≥—ñ–≤

–í—ñ–¥–∫—Ä–∏–π—Ç–µ –∫–æ–Ω—Å–æ–ª—å Metro –∞–±–æ React Native Debugger —ñ —à—É–∫–∞–π—Ç–µ —Ç–∞–∫—ñ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è:

- `üì§ Attempting to send delivery to API:` - –ø–æ—á–∞—Ç–æ–∫ —Å–ø—Ä–æ–±–∏ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
- `üì§ Sending to API: http://...` - –¥–µ—Ç–∞–ª—ñ –∑–∞–ø–∏—Ç—É
- `‚úÖ Delivery sent to API successfully:` - —É—Å–ø—ñ—à–Ω–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∞
- `‚ùå Failed to send delivery to API:` - –ø–æ–º–∏–ª–∫–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
- `üì¥ No internet, saving to sync queue:` - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ —á–µ—Ä–≥—É
- `‚ö†Ô∏è No address available` - –Ω–µ–º–∞—î –∞–¥—Ä–µ—Å–∏ –¥–ª—è –≤—ñ–¥–ø—Ä–∞–≤–∫–∏

### 2. –¢–µ—Å—Ç–æ–≤—ñ —Ñ—É–Ω–∫—Ü—ñ—ó

–í –∫–æ–Ω—Å–æ–ª—ñ React Native Debugger –∞–±–æ –≤ –∫–æ–¥—ñ –º–æ–∂–Ω–∞ –≤–∏–∫–ª–∏–∫–∞—Ç–∏:

```javascript
// –¢–µ—Å—Ç –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ API
testApiConnection()

// –¢–µ—Å—Ç –≤—ñ–¥–ø—Ä–∞–≤–∫–∏ –∞–¥—Ä–µ—Å–∏
testSendAddress("Test Address 123")
```

### 3. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ –∞–¥—Ä–µ—Å–∏

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:
- –ê–¥—Ä–µ—Å–∞ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –≤ –¥–æ—Å—Ç–∞–≤—Ü—ñ (—á–µ—Ä–µ–∑ TrackingScreen ‚Üí "–í—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –∞–¥—Ä–µ—Å—É")
- –ê–¥—Ä–µ—Å–∞ –Ω–µ –ø–æ—Ä–æ–∂–Ω—è
- –ê–¥—Ä–µ—Å–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è –≤ `delivery.address` –∞–±–æ `delivery.currentLocation`

### 4. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ API endpoint

–ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ:
- API —Å–µ—Ä–≤–µ—Ä –∑–∞–ø—É—â–µ–Ω–∏–π –Ω–∞ `http://localhost:3000` (–∞–±–æ `http://10.0.2.2:3000` –¥–ª—è Android –µ–º—É–ª—è—Ç–æ—Ä–∞)
- Endpoint `/delivery` –ø—Ä–∏–π–º–∞—î POST –∑–∞–ø–∏—Ç–∏
- Endpoint –ø–æ–≤–µ—Ä—Ç–∞—î JSON –≤—ñ–¥–ø–æ–≤—ñ–¥—å

### 5. –ü–µ—Ä–µ–≤—ñ—Ä–∫–∞ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É

- –Ø–∫—â–æ –Ω–µ–º–∞—î —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É, –¥–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —á–µ—Ä–≥—É —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —Å—Ç–∞–Ω —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö –¥–æ–¥–∞—Ç–∫—É
- –ü—Ä–∏ –ø–æ—è–≤—ñ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É –¥–∞–Ω—ñ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É—é—Ç—å—Å—è

## –¢–∏–ø–æ–≤—ñ –ø—Ä–æ–±–ª–µ–º–∏:

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω—ñ –Ω–µ –≤—ñ–¥–ø—Ä–∞–≤–ª—è—é—Ç—å—Å—è

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**
1. –ê–¥—Ä–µ—Å–∞ –Ω–µ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ TrackingScreen
2. API —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—â–µ–Ω–∏–π - –∑–∞–ø—É—Å—Ç—ñ—Ç—å —Å–µ—Ä–≤–µ—Ä
3. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL - –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ `getApiBaseUrl()` –≤ `apiService.ts`
4. –ù–µ–º–∞—î —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É - –¥–∞–Ω—ñ –∑–±–µ—Ä–µ–∂–µ–Ω—ñ –≤ —á–µ—Ä–≥—É, –ø–µ—Ä–µ–≤—ñ—Ä—Ç–µ –≤ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è—Ö

**–†—ñ—à–µ–Ω–Ω—è:**
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –ª–æ–≥–∏ –≤ –∫–æ–Ω—Å–æ–ª—ñ
- –í–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ `testApiConnection()` –¥–ª—è –ø–µ—Ä–µ–≤—ñ—Ä–∫–∏ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∞ –∞–¥—Ä–µ—Å–∞ –≤ –¥–æ—Å—Ç–∞–≤—Ü—ñ

### –ü—Ä–æ–±–ª–µ–º–∞: –ü–æ–º–∏–ª–∫–∞ –º–µ—Ä–µ–∂—ñ

**–ú–æ–∂–ª–∏–≤—ñ –ø—Ä–∏—á–∏–Ω–∏:**
1. API —Å–µ—Ä–≤–µ—Ä –Ω–µ –¥–æ—Å—Ç—É–ø–Ω–∏–π
2. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∏–π URL –¥–ª—è –µ–º—É–ª—è—Ç–æ—Ä–∞/–ø—Ä–∏—Å—Ç—Ä–æ—é
3. Firewall –±–ª–æ–∫—É—î –∑'—î–¥–Ω–∞–Ω–Ω—è

**–†—ñ—à–µ–Ω–Ω—è:**
- –î–ª—è Android –µ–º—É–ª—è—Ç–æ—Ä–∞ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è `http://10.0.2.2:3000`
- –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é –ø–æ—Ç—Ä—ñ–±–Ω–æ –≤–∫–∞–∑–∞—Ç–∏ IP –∞–¥—Ä–µ—Å—É –∫–æ–º–ø'—é—Ç–µ—Ä–∞
- –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ —á–∏ API —Å–µ—Ä–≤–µ—Ä –ø—Ä–∏–π–º–∞—î –∑'—î–¥–Ω–∞–Ω–Ω—è

### –ü—Ä–æ–±–ª–µ–º–∞: –î–∞–Ω—ñ –∑–±–µ—Ä—ñ–≥–∞—é—Ç—å—Å—è –≤ —á–µ—Ä–≥—É

**–¶–µ –Ω–æ—Ä–º–∞–ª—å–Ω–æ —è–∫—â–æ:**
- –ù–µ–º–∞—î —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É - –¥–∞–Ω—ñ –±—É–¥—É—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–∏ –ø–æ—è–≤—ñ —ñ–Ω—Ç–µ—Ä–Ω–µ—Ç—É
- API –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∏–π - –¥–∞–Ω—ñ –±—É–¥—É—Ç—å –≤—ñ–¥–ø—Ä–∞–≤–ª–µ–Ω—ñ –ø—Ä–∏ –Ω–∞—Å—Ç—É–ø–Ω—ñ–π —Å–ø—Ä–æ–±—ñ

**–ü–µ—Ä–µ–≤—ñ—Ä–∫–∞:**
- –í—ñ–¥–∫—Ä–∏–π—Ç–µ –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è ‚Üí –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è
- –ü–æ–¥–∏–≤—ñ—Ç—å—Å—è –∫—ñ–ª—å–∫—ñ—Å—Ç—å –æ—á—ñ–∫—É—é—á–∏—Ö –∑–∞–ø–∏—Å—ñ–≤
- –ù–∞—Ç–∏—Å–Ω—ñ—Ç—å "–°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑—É–≤–∞—Ç–∏ –∑–∞—Ä–∞–∑" –¥–ª—è —Ä—É—á–Ω–æ—ó —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—ó

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è API URL:

–Ø–∫—â–æ –ø–æ—Ç—Ä—ñ–±–Ω–æ –∑–º—ñ–Ω–∏—Ç–∏ URL API, –≤—ñ–¥—Ä–µ–¥–∞–≥—É–π—Ç–µ `getApiBaseUrl()` –≤ `src/services/apiService.ts`:

```typescript
export const getApiBaseUrl = (): string => {
  // –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ –ø—Ä–∏—Å—Ç—Ä–æ—é –∑–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ IP –≤–∞—à–æ–≥–æ –∫–æ–º–ø'—é—Ç–µ—Ä–∞
  return 'http://192.168.1.100:3000'; // –ó–∞–º—ñ–Ω—ñ—Ç—å –Ω–∞ –≤–∞—à IP
};
```

## –õ–æ–≥—É–≤–∞–Ω–Ω—è:

–í—Å—ñ –≤–∞–∂–ª–∏–≤—ñ –ø–æ–¥—ñ—ó –ª–æ–≥—É—é—Ç—å—Å—è –≤ –∫–æ–Ω—Å–æ–ª—å –∑ –µ–º–æ–¥–∑—ñ –¥–ª—è –ª–µ–≥–∫–æ–≥–æ –ø–æ—à—É–∫—É:
- üì§ - —Å–ø—Ä–æ–±–∞ –≤—ñ–¥–ø—Ä–∞–≤–∫–∏
- ‚úÖ - —É—Å–ø—ñ—Ö
- ‚ùå - –ø–æ–º–∏–ª–∫–∞
- ‚ö†Ô∏è - –ø–æ–ø–µ—Ä–µ–¥–∂–µ–Ω–Ω—è
- üì¥ - –æ—Ñ–ª–∞–π–Ω —Ä–µ–∂–∏–º
- üíæ - –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è –≤ —á–µ—Ä–≥—É
- üîÑ - —Å–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è


