# –í–∏–ø—Ä–∞–≤–ª–µ–Ω–Ω—è —Å–ø–æ–≤—ñ—â–µ–Ω—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π

## ‚úÖ –©–æ –±—É–ª–æ –≤–∏–ø—Ä–∞–≤–ª–µ–Ω–æ:

1. **–î–æ–¥–∞–Ω–æ permissions –¥–ª—è notifications –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π:**
   - `POST_NOTIFICATIONS` - –¥–ª—è Android 13+
   - `WAKE_LOCK` - –¥–ª—è –ø–æ–∫–∞–∑—É notifications –≤ background
   - `USE_FULL_SCREEN_INTENT` - –¥–ª—è –≤–∞–∂–ª–∏–≤–∏—Ö notifications

2. **–ü–æ–∫—Ä–∞—â–µ–Ω–æ background message handler:**
   - –¢–µ–ø–µ—Ä –ø–æ–∫–∞–∑—É—î notification —á–µ—Ä–µ–∑ `react-native-push-notification` –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π
   - –û–±—Ä–æ–±–ª—è—î —è–∫ `notification` payload, —Ç–∞–∫ —ñ `data` payload

3. **–ü–æ–∫—Ä–∞—â–µ–Ω–æ `showLocalNotification`:**
   - –ó–∞–≤–∂–¥–∏ —Å—Ç–≤–æ—Ä—é—î –∫–∞–Ω–∞–ª –ø–µ—Ä–µ–¥ –ø–æ–∫–∞–∑–æ–º notification
   - –í–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î `importance: 4` (high) –¥–ª—è –ø–æ–∫–∞–∑—É –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π

## üîî –Ø–∫ –ø—Ä–∞—Ü—é—é—Ç—å —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è —Ç–µ–ø–µ—Ä:

### 1. –ö–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π (Foreground):
- –û–±—Ä–æ–±–ª—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `messaging().onMessage()`
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è local notification —á–µ—Ä–µ–∑ `react-native-push-notification`

### 2. –ö–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –º—ñ–Ω—ñ–º—ñ–∑–æ–≤–∞–Ω–∏–π (Background):
- –û–±—Ä–æ–±–ª—è—î—Ç—å—Å—è —á–µ—Ä–µ–∑ `setBackgroundMessageHandler()` –≤ `index.js`
- –ü–æ–∫–∞–∑—É—î—Ç—å—Å—è notification —á–µ—Ä–µ–∑ `react-native-push-notification`
- Android —Ç–∞–∫–æ–∂ –º–æ–∂–µ –ø–æ–∫–∞–∑–∞—Ç–∏ notification –∑ Firebase `notification` payload (—è–∫—â–æ —î)

### 3. –ö–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–∫—Ä–∏—Ç–∏–π (Quit/Killed):
- **–ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è** (scheduled notifications) –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π
- **Firebase remote notifications** –∑ `notification` payload –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π
- **–õ–æ–∫–∞–ª—å–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è** (–±–µ–∑ –∑–∞–ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è) –ù–ï –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ force killed

## ‚ö†Ô∏è –í–∞–∂–ª–∏–≤–æ:

–î–ª—è —Ä–æ–±–æ—Ç–∏ —Å–ø–æ–≤—ñ—â–µ–Ω—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ **–ø–æ–≤–Ω—ñ—Å—Ç—é –∑–∞–∫—Ä–∏—Ç–∏–π** (force killed), –ø–æ—Ç—Ä—ñ–±–Ω–æ:

1. **–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è:**
   ```javascript
   PushNotification.localNotificationSchedule({
     date: new Date(scheduledTime),
     // ... —ñ–Ω—à—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏
   });
   ```

2. **–ê–±–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–≤–∞—Ç–∏ Firebase remote notifications –∑ backend:**
   - Backend –º–∞—î –≤—ñ–¥–ø—Ä–∞–≤–∏—Ç–∏ notification –∑ `notification` payload
   - –¶–µ –ø—Ä–∞—Ü—é—î –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ force killed

## üß™ –¢–µ—Å—Ç—É–≤–∞–Ω–Ω—è:

1. **–¢–µ—Å—Ç –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –≤—ñ–¥–∫—Ä–∏—Ç–∏–π:**
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –Ω–æ–≤—É –¥–æ—Å—Ç–∞–≤–∫—É
   - –ú–∞—î –ø—Ä–∏–π—Ç–∏ notification

2. **–¢–µ—Å—Ç –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –º—ñ–Ω—ñ–º—ñ–∑–æ–≤–∞–Ω–∏–π:**
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫—É
   - –ú—ñ–Ω—ñ–º—ñ–∑—É–≤–∞—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ (home button)
   - –ú–∞—î –ø—Ä–∏–π—Ç–∏ notification

3. **–¢–µ—Å—Ç –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π:**
   - –°—Ç–≤–æ—Ä–∏—Ç–∏ –¥–æ—Å—Ç–∞–≤–∫—É
   - –ó–∞–∫—Ä–∏—Ç–∏ –¥–æ–¥–∞—Ç–æ–∫ –ø–æ–≤–Ω—ñ—Å—Ç—é (swipe away)
   - –ú–∞—î –ø—Ä–∏–π—Ç–∏ notification (—è–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—Ç—å—Å—è –∑–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ –∞–±–æ remote notifications)

## üìù –ü—Ä–∏–º—ñ—Ç–∫–∏:

- –õ–æ–∫–∞–ª—å–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –±–µ–∑ –∑–∞–ø–ª–∞–Ω—É–≤–∞–Ω–Ω—è –ù–ï –ø—Ä–∞—Ü—é—é—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ force killed
- –î–ª—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —á–∞—Å—É –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π –ø–æ—Ç—Ä—ñ–±–µ–Ω backend –∑ Firebase
- –ó–∞–ø–ª–∞–Ω–æ–≤–∞–Ω—ñ —Å–ø–æ–≤—ñ—â–µ–Ω–Ω—è –ø—Ä–∞—Ü—é—é—Ç—å –Ω–∞–≤—ñ—Ç—å –∫–æ–ª–∏ –¥–æ–¥–∞—Ç–æ–∫ –∑–∞–∫—Ä–∏—Ç–∏–π





